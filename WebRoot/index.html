<html lang="zh-cn">
  <head>
     
    <title>My JSP 'index.jsp' starting page</title>
    
	<meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
	<!--
	<link rel="stylesheet" type="text/css" href="styles.css">
	-->
	<script type="text/javascript" src="js/jquery-1.8.1.min.js"></script>
	<script src="js/md5.js"></script>  
	<script type="text/javascript">
	$(document).ready(function(){
		$("#start").click(function(){
	 
			  var url = 'http://192.168.1.144/ReportForm/MultiParamReport?reportName=leaveReport&fileName=output&outputFormat=pdf&params=123';
			  var xhr = new XMLHttpRequest();
			  xhr.open('GET', url, true);    // 也可以使用POST方式，根据接口
			  xhr.responseType = "blob";  // 返回类型blob
			  // 定义请求完成的处理函数，请求前也可以增加加载框/禁用下载按钮逻辑
			  xhr.onload = function () {
			    // 请求完成
			    if (this.status === 200) {
			      // 返回200
			      var blob = this.response;
			      var reader = new FileReader();
			      reader.readAsDataURL(blob);  // 转换为base64，可以直接放入a表情href
			      reader.onload = function (e) {
			        // 转换完成，创建一个a标签用于下载
			        var a = document.createElement('a');
			        a.download = 'temp.pdf';
			        a.href = e.target.result;
			        $("body").append(a);  // 修复firefox中无法触发click
			        a.click();
			        $(a).remove();
			      }
			    }
			  };
			  // 发送ajax请求
			  xhr.send()
	 
		});
	
	}); 
	</script>
  </head>
  
  <body>
  TOKEN:<div id="token"></div>
  RESULT:<div id="result"></div>
  <input type="button" id="start" value="测试">
  
  </body>
</html>


